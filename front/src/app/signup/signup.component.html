<div class="col-md-8">
    <div class="">
      <form
        *ngIf="!isSuccessful"
        name="form"
        (ngSubmit)="f.form.valid && onSubmit()"
        #f="ngForm"
        novalidate
        class="example-form"
      >
        <div class="form-group">
          <p>Username</p>
          <mat-form-field class="example-full-width" appearance="fill">
            <mat-label for="username">Username</mat-label>
            <input type="text" 
              name="username" 
              matInput 
              [formControl]="usernameFormControl"  
              required
              minlength="3"
              maxlength="20"
            >
            <mat-error *ngIf="usernameFormControl.hasError('required')">
              Username is <strong>required</strong>
            </mat-error>
            <mat-error *ngIf="usernameFormControl.hasError('minlength')">
              Username must be at least 3 characters
            </mat-error>
            <mat-error *ngIf="usernameFormControl.hasError('maxlength')">
              Username must be at most 20 characters
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <p>Email</p>
          <mat-form-field class="example-full-width" appearance="fill">
            <mat-label for="email">Email</mat-label>
            <input type="email" name="email" matInput [formControl]="emailFormControl" placeholder="Ex. pat@example.com" required>
            <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
              Please enter a valid email address
            </mat-error>
            <mat-error *ngIf="emailFormControl.hasError('required')">
              Email is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <p>Password</p>
          <mat-form-field class="example-full-width" appearance="fill">
            <mat-label for="password">Password</mat-label>
            <input type="password"
            class="form-control"
            name="password"
            matInput 
            minlength="6"
            [formControl]="passwordFormControl"
            required>
            <mat-error *ngIf="passwordFormControl.hasError('required')">
              Password is <strong>required</strong>
            </mat-error>
            <mat-error *ngIf="passwordFormControl.hasError('minlength')">
              Username must be at least 3 characters
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <button class="btn btn-primary btn-block">Sign Up</button>
        </div>
  
        <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
          Signup failed!<br />{{ errorMessage }}
        </div>
      </form>
  
      <div class="alert alert-success" *ngIf="isSuccessful">
        Your registration is successful!
      </div>
    </div>
  </div>